# Обработка ошибок

Реализуем извлечение информации из заданного URL.

Допустим, у нас есть такой URL:

```
URL = <<"http://mostlyerlang.com/2015/05/21/interview-with-joe-armstrong/">>
```

Из него можно извлечь протокол, домен, путь (если есть), get-параметры (если есть).
Еще мы видим там дату, и ее тоже можно извлечь. На выходе должна получиться такая структура данных:

```
    #{protocol => <<"http">>,
      domain => <<"mostlyerlang.com">>,
      path => [<<"2015">>, <<"05">>, <<"21">>, <<"interview-with-joe-armstrong">>],
      query => <<>>,
      date => {2015, 5, 21}
     }
```

При разборе URL потребуются обработать много разных ошибок:

- Протокол может быть не указан, и тогда нужно вернуть _{error, invalid\_protocol}_;
- Домен может отсутствовать, и тогда нужно вернуть _{error, invalid\_domain}_;
- Путь может отсутствовать, но это не ошибка, тогда _path = []_;
- get-параметры могут отсутствовать, это тоже не ошибка, тогда _query = <<>>_.

Если дата присутствует, то путь должен с нее начинаться. Нужно проверить три первых элемента пути,
можно ли их преобразовать в целое число. И если можно, то попадает ли это число в правильный диапазон:

- год -- любое число;
- месяц от 1 до 12;
- день от 1 до 31.

Если все эти условия выполняются, тогда _date = {Year, Month, Day}_, иначе _date = undefined_.

В модуле *url_parser* вам нужно реализовать функцию *parse/1*, которая принимает URL в виде binary,
а возвращает либо _{ok, Map}_, либо _{error, Reason}_. Выбирайте любой способ обработки ошибок,
какой считаете нужным.

Как обычно, смотрите тесты, чтобы понять, какие данные ожидаются на выходе для разных URL.
(Да и сами по себе URL в тестах представляют интерес, проявите любопытство :)
